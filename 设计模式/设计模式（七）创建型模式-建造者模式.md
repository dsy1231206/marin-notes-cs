# 设计模式（七）创建型模式-建造者模式

##### 概述

将一个复杂对象的构建与表示分离，使得同样的构造过程可以创建不同的表示

创建者模式分离了部件的构造（由Builder来负责构造）和装配（Director负责装配），从而可以构造出复杂的对象。



##### 构造

抽象建造者（Builder）：这个借口规定要实现复杂对象的哪部分的创建，并不涉及部件对象的创建，而是由具体建造者实现

具体建造类：实现Builder接口，完成复杂产品的各个部件的具体创建方法，返回产品的实例

产品类（Product）：要创建的复杂对象

指挥者类（Director）：调用具体建造者来创建复杂对象的各个部分，只负责保证对象各个部分完整创建或按某种顺序创建。

###### 指挥者的任务就是装配复杂对象

![image-20220620105748487](C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20220620105748487.png)



##### 优点：

1）建造者模式的封装性很好，一般来说产品类和建造类都是固定的，主要的逻辑都封装在指挥者类中

2）客户端不必知道组装的细节，直接调用指挥者里的方法就可以组装一个产品出来。

3）将复杂产品的创建步骤分解在不同的方法中，使得创建过程更清晰

4）很容易扩展，如果有新的需求，实现一个新的建造者类就可以完成。



##### 案例

当一个类的构造器需要传入很多参数时，如果创建这个类的实例，代码可读性就会非常差，还可能会引入错误。![image-20220620111429045](C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20220620111429045.png)

相应地，就可以传入一个建造者

![image-20220620111439946](C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20220620111439946.png)



###### 工厂方法模式VS建造者模式

工厂方法模式主要着重于整体对象的创建，建造者模式注重部分构件的过程



###### 抽象工厂模式VS建造者模式

采用抽象工厂模式不需要关心构建过程，只关心什么产品由什么工厂生产就可以了

建造者模式主要是通过组装零配件产生一个新产品