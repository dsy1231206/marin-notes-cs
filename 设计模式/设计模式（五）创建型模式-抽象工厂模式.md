# 设计模式（五）创建型模式-抽象工厂模式

###### 工厂方法模式考虑的是一类产品，但很多时候我们需要那种综合性工厂，能生产多种产品。

##### 抽象工厂模式概念

###### 为访问类提供一个创建一组相关或相互依赖对象的接口，且访问类无需指定产品的具体类就能得到同族不同等级的产品的模式。

##### 抽象工厂的主要角色：

抽象工厂：提供了创建产品的接口，可以创建多个不同等级的产品。每一个方法生产的是同一个产品族（同一品牌）里不同级别的产品。

具体工厂：实现抽象工厂里的多个抽象方法，完成具体产品的创建。

抽象产品：定义了产品的规范

具体产品：实现了产品规范的接口，由具体工厂创建

##### 依然是咖啡店的例子：

![image-20220620094523652](C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20220620094523652.png)

提拉米苏和慕斯属于同一级别的产品，拿铁和美式属于同一级别的产品。

美式和慕斯属于同一产品族的产品，都是美式风味，拿铁和提拉米苏属于同一产品族的产品，都是意大利风味。

###### DessertFactory就是抽象工厂，AmericanDessertFactory就是具体的工厂实现类。

###### 如果新增一个甜品的话，那么新增一个工厂实现类就可以了。

##### 优点：

当一个产品族的多个对象被设计成一起工作的时候，能保证客户端只使用同一个产品族的对象。

例如，只使用美式的产品族，那么所有的对象都是美式的。

##### 缺点：

当产品族需要新增一个产品时，所有的工厂类都需要修改。

例如现在需要增加汉堡这个产品，所有的工厂类和抽象类都需要修改。

##### 抽象工厂的使用场景：

1）当需要创建的对象是一系列相互关联或相互依赖的产品族时，

2）系统中有多个产品族，但每次只使用一个产品族

3）系统提供了产品的类库，且所有产品的接口相同。

##### 案例：

1）生成不同操作系统的应用，只要操作系统变了，所有应用都要跟着变

